#!/bin/bash

set -x
# -------------------------------------------------------------------------------------------------
# SET UP NAMELIST VARIABLES FOR NAMELIST FILE

# create namelist file in work directory
export namelist=${wdir}/input.${atcfname}.${pdy}${hh}

echo "&datein inp%bcc=${cc},inp%byy=${yy},inp%bmm=${mm},"                              > ${namelist}
echo "        inp%bdd=${dd},inp%bhh=${hh},inp%model=${model},"                        >> ${namelist}
echo "        inp%modtyp='${modtyp}',"                                                >> ${namelist}
echo "        inp%lt_units='${lead_time_units}',"                                     >> ${namelist}
echo "        inp%file_seq='${file_sequence}',"                                       >> ${namelist}
echo "        inp%nesttyp='${nest_type}'/"                                            >> ${namelist}
echo "&atcfinfo atcfnum=${atcfnum},atcfname='${atcfname}',"                           >> ${namelist}
echo "          atcfymdh=${atcfymdh},atcffreq=${atcffreq}/"                           >> ${namelist}
echo "&trackerinfo trkrinfo%westbd=${trkrwbd},"                                       >> ${namelist}
echo "      trkrinfo%eastbd=${trkrebd},"                                              >> ${namelist}
echo "      trkrinfo%northbd=${trkrnbd},"                                             >> ${namelist}
echo "      trkrinfo%southbd=${trkrsbd},"                                             >> ${namelist}
echo "      trkrinfo%type='${trkrtype}',"                                             >> ${namelist}
echo "      trkrinfo%mslpthresh=${mslpthresh},"                                       >> ${namelist}
echo "      trkrinfo%use_backup_mslp_grad_check='${use_backup_mslp_grad_check}',"     >> ${namelist}
echo "      trkrinfo%max_mslp_850=${max_mslp_850},"                                   >> ${namelist}
echo "      trkrinfo%v850thresh=${v850thresh},"                                       >> ${namelist}
echo "      trkrinfo%v850_qwc_thresh=${v850_qwc_thresh},"                             >> ${namelist}
echo "      trkrinfo%use_backup_850_vt_check='${use_backup_850_vt_check}',"           >> ${namelist}
echo "      trkrinfo%gridtype='${modtyp}',"                                           >> ${namelist}
echo "      trkrinfo%enable_timing=1,"                                                >> ${namelist}
echo "      trkrinfo%contint=${contour_interval},"                                    >> ${namelist}
echo "      trkrinfo%want_oci=${want_oci},"                                           >> ${namelist}
echo "      trkrinfo%out_vit='${write_vit}',"                                         >> ${namelist}
echo "      trkrinfo%use_land_mask='${use_land_mask}',"                               >> ${namelist}
echo "      trkrinfo%read_separate_land_mask_file='${read_separate_land_mask_file}'," >> ${namelist}
echo "      trkrinfo%inp_data_type='${inp_data_type}',"                               >> ${namelist}
echo "      trkrinfo%gribver=${gribver},"                                             >> ${namelist}
echo "      trkrinfo%g2_jpdtn=${g2_jpdtn},"                                           >> ${namelist}
echo "      trkrinfo%g2_mslp_parm_id=${g2_mslp_parm_id},"                             >> ${namelist}
echo "      trkrinfo%g1_mslp_parm_id=${g1_mslp_parm_id},"                             >> ${namelist}
echo "      trkrinfo%g1_sfcwind_lev_typ=${g1_sfcwind_lev_typ},"                       >> ${namelist}
echo "      trkrinfo%g1_sfcwind_lev_val=${g1_sfcwind_lev_val}/"                       >> ${namelist}
echo "&phaseinfo phaseflag='${phaseflag}',"                                           >> ${namelist}
echo "           phasescheme='${phase_scheme}',"                                      >> ${namelist}
echo "           wcore_depth=${wcore_depth}/"                                         >> ${namelist}
echo "&structinfo structflag='${structflag}',"                                        >> ${namelist}
echo "            ikeflag='${ikeflag}',"                                              >> ${namelist}
echo "            radii_pctile=${radii_pctile},"                                      >> ${namelist}
echo "            radii_free_pass_pctile=${radii_free_pass_pctile},"                  >> ${namelist}
echo "            radii_width_thresh=${radii_width_thresh}/"                          >> ${namelist}
echo "&fnameinfo  gmodname='${atcfname}',"                                            >> ${namelist}
echo "            rundescr='${rundescr}',"                                            >> ${namelist}
echo "            atcfdescr='${atcfdescr}'/"                                          >> ${namelist}
echo "&cintinfo contint_grid_bound_check=${cint_grid_bound_check}/"                   >> ${namelist}
echo "&waitinfo use_waitfor='n',"                                                     >> ${namelist}
echo "          wait_min_age=10,"                                                     >> ${namelist}
echo "          wait_min_size=100,"                                                   >> ${namelist}
echo "          wait_max_wait=1800,"                                                  >> ${namelist}
echo "          wait_sleeptime=5,"                                                    >> ${namelist}
echo "          per_fcst_command=''/"                                                 >> ${namelist}
echo "&netcdflist netcdfinfo%num_netcdf_vars=${ncdf_num_netcdf_vars},"                >> ${namelist}
echo "      netcdfinfo%netcdf_filename='${ncdf_filename}',"                           >> ${namelist}
echo "      netcdfinfo%netcdf_lsmask_filename='${ncdf_ls_mask_filename}',"            >> ${namelist}
echo "      netcdfinfo%time_units='${ncdf_time_units}',"                              >> ${namelist}
echo "      netcdfinfo%time_name='${ncdf_time_name}',"                                >> ${namelist}
echo "      netcdfinfo%lon_name='${ncdf_lon_name}',"                                  >> ${namelist}
echo "      netcdfinfo%lat_name='${ncdf_lat_name}',"                                  >> ${namelist}
echo "      netcdfinfo%sstname='${ncdf_sstname}',"                                    >> ${namelist}
echo "      netcdfinfo%mslpname='${ncdf_mslpname}',"                                  >> ${namelist}
echo "      netcdfinfo%usfcname='${ncdf_usfcname}',"                                  >> ${namelist}
echo "      netcdfinfo%vsfcname='${ncdf_vsfcname}',"                                  >> ${namelist}
echo "      netcdfinfo%u850name='${ncdf_u850name}',"                                  >> ${namelist}
echo "      netcdfinfo%u700name='${ncdf_u700name}',"                                  >> ${namelist}
echo "      netcdfinfo%u500name='${ncdf_u500name}',"                                  >> ${namelist}
echo "      netcdfinfo%u200name='${ncdf_u200name}',"                                  >> ${namelist}
echo "      netcdfinfo%v850name='${ncdf_v850name}',"                                  >> ${namelist}
echo "      netcdfinfo%v700name='${ncdf_v700name}',"                                  >> ${namelist}
echo "      netcdfinfo%v500name='${ncdf_v500name}',"                                  >> ${namelist}
echo "      netcdfinfo%v200name='${ncdf_v200name}',"                                  >> ${namelist}
echo "      netcdfinfo%z900name='${ncdf_z900name}',"                                  >> ${namelist}
echo "      netcdfinfo%z850name='${ncdf_z850name}',"                                  >> ${namelist}
echo "      netcdfinfo%z800name='${ncdf_z800name}',"                                  >> ${namelist}
echo "      netcdfinfo%z750name='${ncdf_z750name}',"                                  >> ${namelist}
echo "      netcdfinfo%z700name='${ncdf_z700name}',"                                  >> ${namelist}
echo "      netcdfinfo%z650name='${ncdf_z650name}',"                                  >> ${namelist}
echo "      netcdfinfo%z600name='${ncdf_z600name}',"                                  >> ${namelist}
echo "      netcdfinfo%z550name='${ncdf_z550name}',"                                  >> ${namelist}
echo "      netcdfinfo%z500name='${ncdf_z500name}',"                                  >> ${namelist}
echo "      netcdfinfo%z450name='${ncdf_z450name}',"                                  >> ${namelist}
echo "      netcdfinfo%z400name='${ncdf_z400name}',"                                  >> ${namelist}
echo "      netcdfinfo%z350name='${ncdf_z350name}',"                                  >> ${namelist}
echo "      netcdfinfo%z300name='${ncdf_z300name}',"                                  >> ${namelist}
echo "      netcdfinfo%z200name='${ncdf_z200name}',"                                  >> ${namelist}
echo "      netcdfinfo%temp1000name='${ncdf_temp1000name}',"                          >> ${namelist}
echo "      netcdfinfo%temp925name='${ncdf_temp925name}',"                            >> ${namelist}
echo "      netcdfinfo%temp800name='${ncdf_temp800name}',"                            >> ${namelist}
echo "      netcdfinfo%temp750name='${ncdf_temp750name}',"                            >> ${namelist}
echo "      netcdfinfo%temp700name='${ncdf_temp700name}',"                            >> ${namelist}
echo "      netcdfinfo%temp650name='${ncdf_temp650name}',"                            >> ${namelist}
echo "      netcdfinfo%temp600name='${ncdf_temp600name}',"                            >> ${namelist}
echo "      netcdfinfo%tmean_300_500_name='${ncdf_tmean_300_500_name}',"              >> ${namelist}
echo "      netcdfinfo%spfh1000name='${ncdf_spfh1000name}',"                          >> ${namelist}
echo "      netcdfinfo%spfh925name='${ncdf_spfh925name}',"                            >> ${namelist}
echo "      netcdfinfo%q850name='${ncdf_q850name}',"                                  >> ${namelist}
echo "      netcdfinfo%spfh800name='${ncdf_spfh800name}',"                            >> ${namelist}
echo "      netcdfinfo%spfh750name='${ncdf_spfh750name}',"                            >> ${namelist}
echo "      netcdfinfo%spfh700name='${ncdf_spfh700name}',"                            >> ${namelist}
echo "      netcdfinfo%spfh650name='${ncdf_spfh650name}',"                            >> ${namelist}
echo "      netcdfinfo%spfh600name='${ncdf_spfh600name}',"                            >> ${namelist}
echo "      netcdfinfo%rh1000name='${ncdf_rh1000name}',"                              >> ${namelist}
echo "      netcdfinfo%rh925name='${ncdf_rh925name}',"                                >> ${namelist}
echo "      netcdfinfo%rh800name='${ncdf_rh800name}',"                                >> ${namelist}
echo "      netcdfinfo%rh750name='${ncdf_rh750name}',"                                >> ${namelist}
echo "      netcdfinfo%rh700name='${ncdf_rh700name}',"                                >> ${namelist}
echo "      netcdfinfo%rh650name='${ncdf_rh650name}',"                                >> ${namelist}
echo "      netcdfinfo%rh600name='${ncdf_rh600name}',"                                >> ${namelist}
echo "      netcdfinfo%omega500name='${ncdf_omega500name}',"                          >> ${namelist}
echo "      netcdfinfo%rv850name='${ncdf_rv850name}',"                                >> ${namelist}
echo "      netcdfinfo%rv700name='${ncdf_rv700name}',"                                >> ${namelist}
echo "      netcdfinfo%lmaskname='${ncdf_lmaskname}'/"                                >> ${namelist}
echo "&parmpreflist user_wants_to_track_zeta850='${user_wants_to_track_zeta850}',"    >> ${namelist}
echo "      user_wants_to_track_zeta700='${user_wants_to_track_zeta700}',"            >> ${namelist}
echo "      user_wants_to_track_wcirc850='${user_wants_to_track_wcirc850}',"          >> ${namelist}
echo "      user_wants_to_track_wcirc700='${user_wants_to_track_wcirc700}',"          >> ${namelist}
echo "      user_wants_to_track_gph850='${user_wants_to_track_gph850}',"              >> ${namelist}
echo "      user_wants_to_track_gph700='${user_wants_to_track_gph700}',"              >> ${namelist}
echo "      user_wants_to_track_mslp='${user_wants_to_track_mslp}',"                  >> ${namelist}
echo "      user_wants_to_track_wcircsfc='${user_wants_to_track_wcircsfc}',"          >> ${namelist}
echo "      user_wants_to_track_zetasfc='${user_wants_to_track_zetasfc}',"            >> ${namelist}
echo "      user_wants_to_track_thick500850='${user_wants_to_track_thick500850}',"    >> ${namelist}
echo "      user_wants_to_track_thick200500='${user_wants_to_track_thick200500}',"    >> ${namelist}
echo "      user_wants_to_track_thick200850='${user_wants_to_track_thick200850}'/"    >> ${namelist}
echo "&verbose verb=3,verb_g2=0/"                                                     >> ${namelist}
echo "&sheardiaginfo shearflag='${shear_calc_flag}'/"                                 >> ${namelist}
echo "&sstdiaginfo sstflag='${sstflag}'/"                                             >> ${namelist}
echo "&gendiaginfo genflag='${genflag}',"                                             >> ${namelist}
echo "             gen_read_rh_fields='${gen_read_rh_fields}',"                       >> ${namelist}
echo "             need_to_compute_rh_from_q='${need_to_compute_rh_from_q}',"         >> ${namelist}
echo "             smoothe_mslp_for_gen_scan='${smoothe_mslp_for_gen_scan}',"         >> ${namelist}
echo "             depth_of_mslp_for_gen_scan=${depth_of_mslp_for_gen_scan}/"         >> ${namelist}
echo "&vortextiltinfo vortex_tilt_flag='${vortex_tilt_flag}',"                        >> ${namelist}
echo "                vortex_tilt_parm='${vortex_tilt_parm}',"                        >> ${namelist}
echo "                vortex_tilt_allow_thresh=${vortex_tilt_allow_thresh}/"          >> ${namelist}

# -------------------------------------------------------------------------------------------------
set +x